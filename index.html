<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Icono -->
  <link rel="icon" href="src/assets/images/logo-f1.ico" type="image/x-icon">

  <link rel="stylesheet" href="src/css/reproductor.css">
  <!-- JavaScript -->
  <script src="src/js/audio.js" defer></script>
  <!-- CSS -->
  <link rel="stylesheet" href="source/css/stylesIndex.css">
  <link rel="stylesheet" href="source/css/f1-style.css">
  <!-- Fuentes -->
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <title>Formula 1</title>

  
  <body>
  <!-- Loading Screen -->
  <div id="loader">
    <div class="loader-animation">
      <img src="src/assets/images/logof1-blanco.png" alt="Cargando..." id="loader-car">
      <div class="loader-spinner"></div>
      <div class="loader-text">Cargando<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span></div>
    </div>
  </div> 

  <!-- Audio de fondo -->
  <audio id="backgroundAudio" src="src/assets/audio/audio-background.m4a" autoplay loop></audio>

  <!-- Video de fondo -->
  <video autoplay muted loop class="background-video" id="main-bg-video">
    <source src="./src/assets/video/videoplayback-background.mp4" type="video/mp4" />
  </video>

  <!-- Overlay para mejorar contraste -->
  <div class="background-overlay"></div>

  <!-- Navbar F1 moderna -->
  <header class="f1-header">
    <nav class="f1-navbar-official">
      <a href="index.html" class="f1-logo-official" tabindex="0">
        <img src="src/assets/images/logof1-blanco.png" alt="Logo F1" />
      </a>
      <div class="f1-navbar-right">
        <a href="/src/html/login.html" class="f1-nav-btn"><i class="fas fa-user"></i> Iniciar Sesión</a>
        <a href="/src/html/registrar.html" class="f1-nav-btn f1-nav-btn-red">Registrarse</a>
      </div>
    </nav>
  </header>



  </div>
  <div class="music-player">
    <div class="player-header">
        <div class="player-info">
            <img src="src/assets/images/logo-f1.png" alt="F1 Logo" class="player-logo">
            <div class="track-info">
                <h3 class="player-title">F1 Theme</h3>
                <p class="player-artist">Formula 1</p>
            </div>
        </div>
        <div class="player-actions">
            <button class="action-btn" id="shuffleBtn" aria-label="Toggle shuffle">
                <i class="fas fa-random"></i>
            </button>
            <button class="action-btn" id="audioToggle" aria-label="Toggle mute">
                <i class="fas fa-volume-up"></i>
            </button>
        </div>
    </div>
    
    <div class="player-controls">
        <div class="control-buttons">
            <button class="control-btn" id="prevBtn" aria-label="Previous track">
                <i class="fas fa-backward"></i>
            </button>
            <button class="control-btn play-btn" id="playPauseBtn" aria-label="Play/Pause">
                <i class="fas fa-play"></i>
            </button>
            <button class="control-btn" id="nextBtn" aria-label="Next track">
                <i class="fas fa-forward"></i>
            </button>
        </div>
        
        <div class="progress-container">
            <span class="current-time">0:00</span>
            <div class="progress-bar">
                <div class="progress"></div>
            </div>
            <span class="total-time">0:00</span>
        </div>

        <div class="volume-control">
            <i class="fas fa-volume-down"></i>
            <div class="volume-slider-container">
                <input type="range" id="volumeControl" min="0" max="100" value="100" aria-label="Volume control">
            </div>
        </div>
    </div>

    <div class="playlist-container" style="display: none;">
        <!-- La lista de reproducción se mantiene oculta -->
    </div>

    <div class="file-upload">
        <input type="file" id="fileInput" class="file-input" accept="audio/*" multiple>
        <label for="fileInput" class="file-label">
            <i class="fas fa-plus"></i>
            Agregar música
        </label>
    </div>
</div>

  
  
  <!-- Script para ocultar el loader y mostrar el contenido principal -->
  <script>
    window.addEventListener('DOMContentLoaded', function() {
      var loader = document.getElementById('loader');
      var mainContent = document.getElementById('main-content');
      var bgVideo = document.getElementById('main-bg-video');
      let videoLoaded = false;
      let loaderTimeout = null;
      function showContent() {
        if (loader) {
          loader.classList.add('fade-out');
          setTimeout(function() {
            loader.style.display = 'none';
            if(mainContent) mainContent.style.display = '';
          }, 500);
        }
      }
      if(bgVideo) {
        bgVideo.addEventListener('canplaythrough', function() {
          if (!videoLoaded) {
            videoLoaded = true;
            if (loaderTimeout) clearTimeout(loaderTimeout);
            setTimeout(showContent, 3500);
          }
        });
      }
      loaderTimeout = setTimeout(function() {
        if (!videoLoaded) showContent();
      }, 3500);
    });
  </script>
</body>

</html>
